# Kaggle Publishing Guide

Publish ProductHuntDB outputs to Kaggle with confidence by following this checklist.

## Prerequisites

- `KAGGLE_USERNAME`, `KAGGLE_KEY`, and `KAGGLE_DATASET_SLUG` configured in `.env`.
- Successful sync run within the last 24 hours (see [Nightly Sync Playbook](sync)).
- Kaggle CLI installed through `uv sync --group notebook` if notebooks accompany the dataset.

## Export Fresh Artifacts

```bash
uv run producthuntdb export --output-dir export/latest
```

The export command produces:

- Normalized CSV files per entity.
- Optional database snapshot when `--include-db` (enabled by default in settings).

## Inspect Dataset Metadata

- Confirm file counts and sizes in `export/latest`.
- Review `metadata/dataset-metadata.json` (generated by the repository) for title, subtitle, description, and tags.
- Update release notes or descriptions as needed before publishing.

## Dry-run Kaggle Publish

```bash
uv run producthuntdb publish --verbose
```

Dry-run behaviour (default) validates credentials and payloads without pushing data. Flags:

- `--force` – override the dry-run safeguard when you are ready to publish.
- `--notes` – append release notes to the Kaggle dataset.

## Final Publish

```bash
uv run producthuntdb publish --force --notes "Synced on $(date -u +%Y-%m-%d)"
```

Monitor the CLI output. A successful push returns the Kaggle dataset URL and version number.

## Post-publish Checklist

1. Open the dataset page and ensure files appear under the expected subfolders.
2. Trigger downstream notebooks or dashboards as required.
3. Record the version in `CHANGELOG` (or your release tracker).

## Automated Publishing

- Use GitHub Actions or another CI service with secrets configured to run the export + publish steps on a schedule.
- Cache `.venv` or `uv` dependencies to keep CI durations short.
- Always execute the dry-run step first; fail the workflow if it reports validation errors.

## Troubleshooting

Review [Troubleshooting](troubleshooting) for credential issues, rate limits, and Kaggle API quirks. Logged exceptions are stored in `logs/producthuntdb.log`.
